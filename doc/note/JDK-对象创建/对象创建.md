# 类对象的创建

## 对象的创建
Java对象创建的流程大概如下
 - 1、检查对象所属类是否已经被加载解析。
 - 2、为对象分配内存空间。
 - 3、将分配给对象的内存初始化为零值。
 - 4、执行对象的<init>方法进行初始化。
### 工作原理
使用new关键字创建Test对象，如果是解释执行，
那么对应生成的new字节码指令会执行
TemplateTable::_new()函数生成的一段机器码
[templateTable_x86_64.cpp](../../../openjdk-8u40/hotspot/src/cpu/x86/vm/templateTable_x86_64.cpp)#void TemplateTable::_new()

## 内存分配流程
内存分配的流程
 - 1、首先在TLAB区分配。
 - 2、如果在TLAB区分配失败，一般情况下会在Eden空间分配。
 - 3、如果无法在TLAB和Eden区分配，那么调用InterpreterRuntime::_new()函数进行分配
### 注意
对象的内存分配，往大方向讲就是在堆上分配，
对象主要分配在新生代的Eden空间上，少数情况下可
能会直接分配在老年代中。分配的规则并不是固定
的，其细节取决于当前使用的是哪一种垃圾收集器组
合，以及虚拟机中与内存相关参数的设置。